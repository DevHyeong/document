# 3장 템플릿
- 템플릿이란 변하지 않는 부분을 변하는 부분으로부터 독립시켜서 효과적으로 활용할 수 있는 방법

## 변하는 것과 변하지 않는 것
### 템플릿 메소드 패턴
- 상속을 통해 기능을 확장해서 사용하는 부분
- 변하지 않는 부분은 슈퍼클래스에 두고 변하는 부분은 추상 메소드로 정의해둬서 서브클래스에서 오버라이드하여 새롭게 정의해 쓰도록 하는 것이다.
- 슈퍼클래스와 서브클래스와의 관계가 컴파일 시점에 결정된다.

### 전략 패턴
- 컨텍스트가 어떤 전략을 사용할 것인가는 컨텍스트를 사용하는 클라이언트가 결정하는게 일반적이다.
- 클라이언트가 구체적인 전략의 하나를 선택하여 오브젝트로 만들어서 컨텍스트에 전달하는 것이다.
- 컨텍스트는 전달받은 구현 클래스의 오브젝트를 사용한다.

### 예제코드인 UserDAO에 전략패턴 적용시 두가지 문제
- DAO 메소드마다 새로운 StatementStrategy 구현 클래스를 만들어야 한다. (클래스 갯수 증가 문제)
- DAO 메소드에서 StatementStrategy에 전달할 User와 같은 부가적인 정보가 있을 경우 오브젝트를 전달받는 생성자와 인스턴스 변수를 만들어야 한다.

### 해결법
- 중첩 클래스(다른 클래스 내부에 정의되는 클래스) 사용

중첩 클래스의 종류
- 스태틱 클래스: 독립적으로 오브젝트를 만들수 있는 클래스
- 내부 클래스: 자신이 정의된 클래스의 오브젝트 안에서만 만들어질 수 있는 클래스
  - 멤버 내부 클래스: 멤버 필드처럼 오브젝트 레벨에 정의되는 클래스
  - 로컬 클래스: 메소드 레벨에 정의되는 클래스
  - 익명 내부 클래스: 이름을 갖지 않는 클래스

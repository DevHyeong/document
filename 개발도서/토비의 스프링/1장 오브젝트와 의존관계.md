# 1장 오브젝트와 의존관계

## 관심사의 분리
- 개발자가 객체를 설계할 때 가장 염두에 둬야 할 사항은 바로 미래의 변화를 어떻게 대비할 것인가이다.
- 가장 좋은 대책은 변화의 폭을 최소한으로 줄여주는 것이다.
- 어떻게 변경이 일어날 때 필요한 작업을 최소화할 수 있고, 그 변경이 다른 곳에 문제를 일으키지 않게 할 수 있었을까?
- 그것은 분리와 확장을 고려한 설계가 있었기 때문

## 2가지 패턴을 통한 관심사 분리
- 관심이 다른 기능을 분리하고 필요에 따라 다양한 변신이 가능하도록 확장성을 높힘
### 템플릿 메소드 패턴
- 상속을 통해 슈퍼클래스의 기능을 확장할 때 사용하는 가장 대표적인 방법이다.
- 변하지 않는 기능은 슈퍼클래스에 만들어두고 자주 변경되며 확장할 기능은 서브클래스에서 만들도록 한다.
- 슈퍼클래스에서는 미리 추상 메소드 또는 오버라이드 가능한 메소드를 정의해두고 이를 활용해 코드의 기본 알고리즘을 담고 있는 템플릿 메소드를 만든다.
- 슈퍼클래스에서 디폴트 기능을 정의해두거나 비워뒀다가 서브클래스에서 선택저으로 오버라이드할 수 있도록 만들어둔 메소드를 훅(Hook) 메소드라 한다.
- 서브클래스에서는 추상 메소드를 구현하거나, 훅 메소드를 오버라이드하는 방법을 이용해 기능의 일부를 확장한다.

### 팩토리 메소드 패턴
- 슈퍼클래스 코드에서는 서브클래스에서 구현한 메소드를 호출해서 필요한 타입의 오브젝트를 가져와 사용한다.
- 이 메소드는 주로 인터페이스 타입의 오브젝트를 리턴하므로 서브클래스에서 정확히 어떤 구현 클래스의 오브젝트를 만들어 리턴할지는 슈퍼클래스에서 알지 못한다.
- 서브클래스에서는 다양한 방법으로 오브젝트를 생성하는 메소드를 재정의할 수 있다.
- 이렇게 서브클래스에서 오브젝트 생성 방법과 클래스를 결정할 수 있도록 미리 정의해둔 메소드를 팩토리 메소드라 하고, 이 방식을 통해 오브젝트 생성 방법을 나머지 로직, 즉 슈퍼클래스의 기본 코드에서 독립시키는 방법을 팩토리 메소드 패턴이라고 한다.

## 상속을 통한 문제
- 자바는 클래스의 다중상속을 허용하지 않는다. 단지 커넥션 객체를 가져오는 방법을 분리하기 위해 상속구조로 만들어버리면 후에 다른 목적으로 UserDao에 상속을 적용하기 힘들다.
- 상속을 통한 상하위 클래스의 관계가 생각보다 밀접하다.(결합도 증가)

## 해결법: 인터페이스를 통한 추상화
- 추상화란 어떤 것들의 공통적인 성격을 뽑아내어 이를 따로 분리해내는 작업
- 인터페이스는 자신을 구현한 클래스에 대한 구체적인 정보는 모두 감춰버린다.
- 생섯자 파라미터 또는 메소드 파라미터를 통한 의존관게 설정으로 유연한 관계를 맺을 수 있다.(런타임 의존관계)

## 원칙과 패턴
### 개방 폐쇄 원칙(OCP, Open-Closed Principle)
- 클래스나 모듈은 확장에는 열려 있어야 하고 변경에는 닫혀있어야 한다.
### 높은 응집도
- 하나의 모듈, 클래스가 하나의 책임 또는 관심사에만 집중되어 있다
### 낮은 결합도
- 결합도: 하나의 오브젝트가 변경이 일어날 때에 관계를 맺고 있는 다른 오브젝트에게 변화를 요구하는 정도
- 낮은 결합도: 하나의 변경이 발생할 때 마치 파문이 이는 것처럼 여타 모듈과 객체로 변경에 대한 요구가 전파되지 않는 상태
### 전략 패턴
- 
  

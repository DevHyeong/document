## Environment 추상화와 프로퍼티

![image](https://github.com/DevHyeong/document/assets/44819285/1d074466-2156-4370-bbdd-bd890908c08e)

### Environment Abstraction - Properties
#### StandardEnvironment
- System Properties
- System Environment Variables
#### StandardServletEnvironment
- ServletConfig Parameters
- ServletContext Parameters
- JNDI
#### 그외
- @PropertySource
#### SpringBoot
- application.properties, yml, xml
- Environment.getProperty("property.name")을 입력하면 스프링부트는 property.name, property_name, PROPERTY.NAME, PROPERTY_NAME 네가지 형식을 찾아본다.


## 자동 구성에 Environment 프로퍼티 적용

### ApplicationRunner
- 스프링 컨테이너 초기화 이후 확인하고 싶을 때 활용
- 구현시 의존성 주입이 가능하다.

```java
@Bean
ApplicationRunner applicationRunner(Environment env){
  return args -> {
    String name = env.getProperty("my.name");
    
  };
}
```

### property 적용 우선순위
- System Properties > System Environment Variables > application.yml

## @Value와 PropertySourcesPlaceholderConfigurer
- 치환자가 붙은 필드나 구성정보를 프로퍼티로 교체해주는 후처리 작업을 해주는 기능을 추가해야 @Value를 활용할 수 있다.
- 아래의 빈을 등록하면 @Value를 사용할 수 있다.

```java
public class PropertyPlaceholderConfig{
  @Bean PropertySourcePlaceholderConfigurer propertySourcePlaceholderConfigurer(){
    return new PropertySourcePlaceholderConfigurer();
  } 
}
```



